<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Easy Lawyer</title>
<style>
/* mantém seu estilo bonito */
</style>
</head>
<body>

<div class="card">
<h2>Easy Lawyer</h2>
<form id="form">
<input id="name" placeholder="Seu nome" required>
<input id="contact" placeholder="Telefone ou email" required>
<select id="area" required>
<option value="">Selecione</option>
<option>Trabalhista</option>
<option>Previdenciário</option>
<option>Cível</option>
<option>Família</option>
<option>Criminal</option>
</select>
<textarea id="summary" placeholder="Explique seu problema" required></textarea>
<button type="submit">Enviar</button>
<div id="status"></div>
</form>
</div>

<script>
document.getElementById('form').addEventListener('submit', async(e)=>{
  e.preventDefault();
  
  const data = {
    name: name.value,
    contact: contact.value,
    area: area.value,
    summary: summary.value
  };

  const status = document.getElementById('status');
  status.innerText = 'Enviando...';

  const res = await fetch('/api/leads', {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify(data)
  });

  const result = await res.json();

  if(res.ok){
    status.innerText = "Lead enviado com sucesso!";
    document.getElementById('form').reset();
  } else {
    status.innerText = result.error;
  }
});
</script>

</body>
</html>
